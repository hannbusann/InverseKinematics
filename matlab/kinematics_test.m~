clc
clear
close all
%%
%???å§¿æ????
r=0;
p=-90;
y=-45;
ankle_from_ground = 3;
%???Z_aè½?awè§?
Y = rotz(y);
%???Y_bè½?itchè§?
P = roty(p);
%???ç»?_bè½?ollè§?
R = rotx(r);
%??????é¡ºå??·å???½¬????©é?,?³ä?è¿??å·????
T_r = Y*P*R;
%????¹å???????ç³?ä¸?????
P_b = [0 0 ankle_from_ground]';
%????¹å????ç»?????ç³?ä¸?????
P_a = T_r*P_b
%ç»??æµ??,ä»¥ä??»è?å®??æ­£ç¡®,??»¥å¾??????¹å????ç»?????ç³?ä¸?????

%%
%?¥ä??¥å??¶è?è¡???·è?ç®??å­?????,rotx/y/z?½æ?ä¸??????·è?ç®?% syms yy pp rr ankle_from_ground
% Y_symbol=[  cos(yy)     -sin(yy)    0;
%             sin(yy)     cos(yy)     0;
%             0           0           1];
% 
% P_symbol=[  cos(pp)     0           sin(pp);
%             0           1           0      ;
%             -sin(pp)    0           cos(pp)];
% 
% R_symbol=[  1           0           0       ;
%             0           cos(rr)     -sin(rr);
%             0           sin(rr)     cos(rr) ];
%         
%         
% T_r_symbol = Y_symbol * P_symbol * R_symbol;
% P_b_symbol = [0; 0; ankle_from_ground];
% P_a_symbol = T_r_symbol*P_b_symbol
% % è¿?¸ªP_a_symbolç»????»¥?¨ä?C++ä»£ç?ä¸??ç®??è¸?% 

%%
%è¿?????ä¸??ä¸???³è?ä¸?¸ª?³è????ä¹?½¬??
%???ankle_roll??½´çº¿ç???????ä¹????p=-45;
y=45;
%???Z_aè½?awè§?Y = rotz(y);
%???Y_bè½?itchè§?P = roty(p);
%??????é¡ºå??·å???½¬????©é?,?³ä?è¿??å·????T_r = Y*P;
%è®?nkle_roll??½¬è½´å?B???ç³»ä¸­???¹å????ä½????P_b = [1 0 0]';
%?·å?ankle_rollè½?½´???å¯¹æ??????P_a = T_r*P_b

%%
%å¾??ankle_rollè½´çº¿?¹å????????·è¡¨è¾¾å?
syms yy pp rr ankle_from_ground fpx fpy fpz hfox hfoy hfoz
Y_symbol=[  cos(yy)     -sin(yy)    0;
            sin(yy)     cos(yy)     0;
            0           0           1];

P_symbol=[  cos(pp)     0           sin(pp);
            0           1           0      ;
            -sin(pp)    0           cos(pp)];
        
R_symbol=[  1           0           0       ;
            0           cos(rr)     -sin(rr);
            0           sin(rr)     cos(rr) ];

T_r_ankle_axis = Y_symbol * P_symbol;
P_b_ankle_axis = [1; 0; 0];
P_a_ankle_axis = T_r_ankle_axis*P_b_ankle_axis

T_r_symbol = Y_symbol * P_symbol * R_symbol;
P_b_symbol = [0; 0; ankle_from_ground];
P_a_symbol =[fpx;fpy;fpz]+ T_r_symbol*P_b_symbol-[hfox;hfoy;hfoz]


%%
%?·å????hip_roll??ip_yawä¹?????hip_pitch???
syms a b c
Y_symbol=[  cos(yy)     -sin(yy)    0;
            sin(yy)     cos(yy)     0;
            0           0           1];
        
R_symbol=[  1           0           0       ;
            0           cos(rr)     -sin(rr);
            0           sin(rr)     cos(rr) ];

T_r_symbol = Y_symbol * R_symbol;
P_a_symbol = [a; b; c];
P_b_symbol = T_r_symbol\P_a_symbol








